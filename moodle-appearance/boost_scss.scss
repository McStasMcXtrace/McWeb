// Import everything.
@import "moodle";

// Since moodle 3.11 extra space was added in between every course activity increasing the amount of scrolling - here it is removed. 
.section li.activity.hasinfo {
    border-bottom: 1px solid #f4f4f4;
    padding-top: 0rem !important;
    padding-bottom: 0rem !important;
}

#nav-drawer [data-key="privatefiles"] {
  display: none;
}

#nav-drawer [data-key="mycourses"] {
  display: none;
}


// The edit button within H5P content doesn't behave like all other .btn-primary affected buttons. 
.mb-2 {
    .btn-primary {
        textcolor: $gray-lightest;
        color: $dark;
        border-color: $dark;
    }
}

a, a:focus {
    background: transparent !important;
}

// Change colour of text and icons on top navigation bar.
.navbar-light {
   font-weight: bold;
   font-size: 1.1em;
.nav.usernav .usermenu .dropdown-toggle {
    color : $gray-lightest !important;
}
  background-image: linear-gradient(to right, $dark 0%, $teal 100%) !important; 
  border-bottom: 1px solid $gray-lightest;
  .navbar-nav .nav-link {
     color: $gray-lightest !important; // messaging and notification icons
  }
}

// WARNING - this is messy: First remove all logos (top navigation bar and home page header card)
#page-wrapper .logo img { display:none; }

// Then put back the big logo on the home page header card 
//#page-site-index .logo img { 
//    display: unset;
//    background-image: url(https://pan-learning.org/moodle/theme/images/PaNOSC_ExPaNDS_original4.png);
//    background-repeat: no-repeat;
//    background-position: left center;
//    background-size: auto 100%;
//    width: 700px;
//}

// Add the compact logo the navigation bar on the home page 
#page-site-index .navbar-light .navbar-brand {
    background-image: url(https://pan-learning.org/moodle/theme/images/PaNOSC-ribbons.png) !important;
    background-position: left center !important;
    background-repeat: no-repeat !important;
    background-size: auto 65% !important;
 }
// Finally add the compact logo to the navigation bar on all the other pages 
.navbar-light .navbar-brand {
    background-image: url(https://pan-learning.org/moodle/theme/images/PaNOSC-ribbons.png) !important;
    background-position: left center !important;
    background-repeat: no-repeat !important;
    background-size: auto 65% !important;
 }
// The removal and addition of the logo on all other pages is not strictly necessary however if not done Moodle displays a lower quality version of the logo.

// Edit short title on top navigation bar 
.site-name {
    font-size: 1.5em;
    font-weight: bold;
    margin: 0px 145px;
}

// Change color of hamburger icon on top navigation bar.
.btn-light {
    color: $gray-lightest;
    background: transparent !important;
    border: transparent !important;
}

// Add header with image and change color of buttons on the header. 
#page-header .card {
  height: 150px;
  background-image: url(https://pan-learning.org/moodle/theme/images/testwallpaper8.png), linear-gradient(to left, $teal 0%, #f4f4f4 100%);
  background-size: cover, cover;
  background-position: 100% 50%, 100%;
  .btn {
     color: $gray-lightest;
     background: $dark !important;
     font-size: 1.1em;
     font-weight: bold;
     border: transparent !important;
  }
  img.userpicture {
    width: 50px;
    height: 50px;
  }
 .action-menu .dropdown-toggle {
    text-decoration: none;
    color : $gray-lightest;
    padding: 5px 10px;
    background-color: $dark !important;
 }
}

// Change title on header card. 
.page-context-header .page-header-headings h1 {
  font-size: 2.4em;
  color: $dark;
  margin-right: .5rem;
}

// Change breadcrumb navigation on header card.
// This includes a 'bug fix' for the non-aligning of linked and non-linked breadcrumbs by underlining both and then making it transparent. 
.breadcrumb {
   color : $dark;
   font-size: 1.1em;
   font-weight: bold;
   text-decoration: underline transparent;
   a {
        text-decoration: underline transparent;
   }
}

// Increase logo on header card for home page - might be able to get rid of this now that the logo is being added manually
 #page-header {
     .logo {
         margin: -10px 10px;
         img {
             max-height: 120px;
         }
     }
 }

// Change login page background colours. 
#page-login-index {
 background: $gray-lightest;
 .card {
    background: $gray-lighter;
 }
  .card-header {
    background-image: url(https://pan-learning.org/moodle/theme/images/PaNOSC_ExPaNDS_gray8.png), linear-gradient(to right, $dark 0%, $teal 100%);
    background-repeat: no-repeat, no-repeat;
    background-position: center center, 100%;
    background-size: auto 95%, auto auto;
    height: 230px;
 }
}


//Stops a weird clipping of buttons on the user profile page
div#page-navbar {   
  position: relative;
  width: 100%;
}


//Change color of background and text on side navigation bar. 
#nav-drawer {
  background: $dark none repeat scroll 0 0; // area behind side navigation button
  border-right: 1px solid $gray-lightest;
 .list-group-item {
   background-color: $dark;
   border: medium none;
   color: $gray-lightest;
   &:last-child {
     border-bottom-left-radius: 0px;
     border-bottom-right-radius: 0px;
   }
   &:first-child {
     border-top-left-radius: 0;
     border-top-right-radius: 0;
   }
 }
 
 .list-group-item-action {
   &:focus, &:hover {
     background-color: $dark;
     color: $gray-lightest;
     font-size: 1.1em;
     font-weight: bold;
   }
 }
}
.navbar-nav {
  .btn-secondary:hover, .btn-default:hover {
    background-color: $dark;
    color: $gray-lightest;
  }
}


// Change background and colour of all dropdown menus. 
.course-content, .card, .navbar, .col-12 {
 .dropdown-header {
    color: $gray-lightest;
 }
 .dropdown-menu {
     border-radius: 15px;
     background: $dark !important;
     .dropdown-divider {
         display: none;
     }    
     .dropdown-item a {
         background: $dark !important;
         color: $gray-lightest !important;
         &:focus, &:hover {
            background: $dark !important;
            text-decoration: none;
         }
     }
 }
 .dropdown-item {
    color: $gray-lightest !important;
    &:focus, &:hover {
        font-weight: bold;
    }
 }
}

#page-footer {
  text-align: right;
  height: 100px;
  background-image: url(https://pan-learning.org/moodle/theme/images/PaNOSC_ExPaNDS_footer2.png),  linear-gradient(to left, $teal 0%, $dark 100%);
  background-position: 5%, 100%;
  background-repeat: no-repeat, no-repeat;
  background-size: auto 90%, auto auto;
}

// Remove the Home link in the footer 
.homelink {display: none;}
 

